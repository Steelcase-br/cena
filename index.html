<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Beyond Time - Galería</title>

  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Inter, Arial, sans-serif}

    @font-face {
      font-family:'JaneAust';
      src: url('recursos/JaneAust.ttf') format('truetype');
    }

    body{
      background: url("recursos/fondo.jpg") center/cover no-repeat;
      min-height:100vh;
      overflow:hidden;
      position:relative;
      color:white;
    }

    .overlay{position:absolute; inset:0; background:rgba(0,0,0,0.0);}

    /* INTRO */
    .intro{
      position:absolute;
      top:50%;left:50%;
      transform:translate(-50%,-50%);
      text-align:center;
      max-width:900px;
      padding:20px;
      animation:fadeIn 1s ease;
      z-index:2;
    }
    .title{
      font-family:'JaneAust';
      font-size:70px;
      color:#d8b080;
      white-space:normal;
      margin-bottom:20px;
    }
    .intro p{font-size:20px; line-height:1.5; margin-bottom:22px; color:#fff;}
    .btn{
      background:#d8b080; border:none; padding:14px 32px; border-radius:8px; color:white;
      font-size:18px; cursor:pointer; transition:0.25s; margin-top:10px;
    }
    .btn:hover{opacity:.9}

    @keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
    @keyframes slideUpSmooth{0%{opacity:1;margin-top:0;}100%{opacity:0;margin-top:-400px;}}

    /* GALERÍA */
    .galeria{
      position:absolute; inset:0;
      background-image:url("recursos/fondo2.jpg");
      background-size:cover;
      background-position:center;
      padding:30px;
      overflow-y:auto;
      display:none;
    }

    .back{
      position:sticky;
      top:20px;
      background:#9e1065;
      color:white;
      padding:16px 28px;
      border-radius:28px;
      border:none;
      font-size:20px;
      font-weight:800;
      cursor:pointer;
      z-index:30;
      margin-bottom:20px;
    }
    .back:hover{opacity:.9;}

    /* MASONRY 3 COLUMNAS SIEMPRE */
    .masonry{
      column-count:3 !important;
      column-gap:16px;
      width:100%;
      padding-bottom:40px;
    }

    .masonry img{
      width:100%;
      margin-bottom:16px;
      border-radius:10px;
      cursor:pointer;
      break-inside:avoid;
      transition:0.14s;
    }

    .masonry img:hover{
      transform:scale(1.02);
      filter:brightness(1.12);
    }

    /* IMPORTANTE: NO reducir a 1 columna en móvil */
    @media(max-width:600px){
      .masonry{column-count:3 !important;}
    }

    /* MODAL */
    #modal{
      position:fixed; inset:0;
      display:none;
      align-items:center; justify-content:center;
      background:rgba(0,0,0,0.92);
      z-index:9999;
    }

    #modal-img{
      max-width:92%;
      max-height:88%;
      border-radius:10px;
      box-shadow:0 18px 60px rgba(0,0,0,.6);
    }

    .close{
      position:absolute; top:18px; right:26px;
      font-size:46px; color:#fff; cursor:pointer;
    }

    .download-icon{
      position:absolute;
      right:28px; bottom:26px;
      width:52px; height:52px;
      border-radius:50%;
      background:#d8b080;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
    }
    .download-icon img{width:26px;}
  </style>
</head>

<body>

<div class="overlay"></div>

<!-- INTRO -->
<div id="intro" class="intro">
  <h1 class="title">Beyond Time</h1>
  <p>Muchas gracias por acompañarnos en Beyond Time.<br>Fue un verdadero placer compartir este momento con ustedes y vivir juntos una experiencia inolvidable.</p>
  <button class="btn" onclick="mostrarGaleria()">Galería</button>
</div>

<!-- GALERÍA -->
<div id="galeria" class="galeria">

  <button class="back" onclick="volver()">← Regresar</button>

  <!-- GRID TIPO iPhone -->
  <div id="masonry" class="masonry"></div>

</div>

<!-- MODAL -->
<div id="modal">
  <span class="close" onclick="cerrarModal()">×</span>
  <img id="modal-img">
  <a id="downloadIconLink" class="download-icon" download>
    <img src="recursos/quico.png">
  </a>
</div>

<script>
/* LISTA REAL DE IMÁGENES: imagen1.jpg → imagen67.jpg */
const imagenes = [];
for(let i=1; i<=67; i++){
  imagenes.push(`imagenes/imagen${i}.jpg`);
}

/* INTRO → GALERÍA */
function mostrarGaleria(){
  document.getElementById("intro").style.animation = "slideUpSmooth 1s forwards";
  setTimeout(()=>{
    document.getElementById("intro").style.display = "none";
    document.getElementById("galeria").style.display = "block";
    cargarMasonry();
  },900);
}

function volver(){
  document.getElementById("galeria").style.display = "none";
  const intro = document.getElementById("intro");
  intro.style.display = "block";
  intro.style.animation = "fadeIn 1s";
}

/* GENERAR MASONRY */
function cargarMasonry(){
  const cont = document.getElementById("masonry");
  cont.innerHTML = "";

  imagenes.forEach((src, i)=>{
    const img = document.createElement("img");
    img.src = src;
    img.onclick = ()=>abrirModal(i);
    cont.appendChild(img);
  });
  
  const finalText = document.createElement("div");
  finalText.style.textAling= "center";
  finalText.style.marginTop= "40px";
  finalText.style.fontSize= "20px";
  finalText.style.color="#d8b080";
  finalText.style.lineHeight="1.6";
  finalText.innerText= "Beyond Time fue una noche para recordar. Una noche para reflexionar sobre los retos, oportunidades y logros que nos deja este año. Una noche para agradecer y celebrar un año más de contar con su confianza. Miramos hacia el futuro con entusiasmo, listos para nuevas oportunidades de seguir creciendo juntos. ¡Les deseamos felices fiestas y un inicio de año lleno de éxitos!"

}

/* MODAL */
let indexActual = 0;

function abrirModal(i){
  indexActual = i;
  const modal = document.getElementById("modal");
  const img = document.getElementById("modal-img");
  const dl = document.getElementById("downloadIconLink");

  img.src = imagenes[i];
  dl.href = imagenes[i];
  dl.setAttribute("download", `imagen${i+1}.jpg`);

  modal.style.display = "flex";
  document.body.style.overflow = "hidden";
}

function cerrarModal(){
  document.getElementById("modal").style.display = "none";
  document.body.style.overflow = "";
}

/* TECLAS */
document.addEventListener("keydown", e=>{
  const modal = document.getElementById("modal");
  if(modal.style.display==="flex"){
    if(e.key==="Escape") cerrarModal();
    if(e.key==="ArrowRight") moverModal(1);
    if(e.key==="ArrowLeft") moverModal(-1);
  }
});

function moverModal(dir){
  let nuevo = indexActual + dir;
  if(nuevo < 0 || nuevo >= imagenes.length) return;
  abrirModal(nuevo);
}

/* CERRAR TOCANDO AFUERA */
document.getElementById("modal").addEventListener("click", e=>{
  if(e.target.id === "modal") cerrarModal();
});
</script>

</body>
</html>





